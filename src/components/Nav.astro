---
import logo from "../assets/logo.png";
const base = import.meta.env.BASE_URL;

const serviceSubs = [
    { href: `${base}services/kitchens-baths/`, label: "Kitchens & Baths" },
    { href: `${base}services/framing-drywall/`, label: "Framing & Drywall" },
    { href: `${base}services/decks-exterior/`,  label: "Decks & Exterior" },
];
---

<nav class="navgrid">
    <!-- Left: brand (bigger + closer to left edge) -->
    <a class="brand" href={base} aria-label="KIL Construction Home">
        <img src={logo.src} alt="KIL Construction" />
    </a>

    <!-- Center: evenly spaced primary links -->
    <div class="links">
        <details class="menu">
            <summary class="services-link">Services</summary>
            <ul>
                {serviceSubs.map((s) => <li><a href={s.href}>{s.label}</a></li>)}
            </ul>
        </details>

        <a href={`${base}projects/`}>Projects</a>
        <a href={`${base}gallery/`}>Gallery</a>
        <a href={`${base}contact/`}>Contact</a>
    </div>

    <!-- Right: CTA -->
    <a class="btn cta" href="tel:+1-715-279-1241">Call Now</a>
</nav>

<style>
    /* 3 columns: logo | links | CTA */
    .navgrid{
        display: grid;
        grid-template-columns: auto 1fr auto;
        align-items: center;
        gap: 24px;
        padding: 10px 0;
    }

    /* Bigger logo, nudge left to fight container padding */
    .brand{
        justify-self: start;
        margin-left: -32px;
    }
    .brand img{
        height: 90px;
        display: block;
    }

    /* Center links: spread them out more evenly */
    .links{
        justify-self: center;
        display: flex;
        align-items: center;
        gap: clamp(36px, 6vw, 80px);
    }

    /* Make Services summary match link sizing */
    .links a,
    .services-link{
        color: #fff;
        font-weight: 700;
        font-size: 1.3rem;
        text-decoration: none;
        transition: transform .15s ease, opacity .15s ease;
    }
    .links a:hover,
    .services-link:hover{
        text-decoration: none;
        transform: scale(1.07);
    }

    /* Services dropdown */
    .menu{ position: relative; }
    .menu summary{
        list-style: none;
        cursor: pointer;
        user-select: none;
        outline: none;
    }
    .menu[open] summary{ opacity: .92; }

    .menu ul{
        position: absolute;
        top: calc(100% + 10px);
        left: 0;
        background: #fff;
        border: 1px solid #e6e6e6;
        border-radius: 12px;
        padding: 8px;
        min-width: 240px;
        box-shadow: 0 10px 24px rgba(0,0,0,.12);
    }
    .menu ul li{ list-style: none; }
    .menu ul a{
        display: block;
        padding: 10px 12px;
        color: #111;
        border-radius: 8px;
        text-decoration: none;
        white-space: nowrap;
        font-size: 1.1rem;
        font-weight: 700;
    }
    .menu ul a:hover{
        background: #f5f7fa;
    }

    /* CTA aligned right */
    .cta{
        justify-self: end;
        margin-right: -32px;
    }

    /* Small screens: tighten spacing a bit */
    @media (max-width: 720px){
        .brand img { height: 70px; }
        .links { gap: 22px; }
        .links a, .services-link { font-size: 1.1rem; }
    }
</style>

