---
import AdminLayout from "../../layout/AdminLayout.astro";

const cookies = Astro.cookies;
const auth = cookies.get("admin_auth")?.value || "";
const env = (Astro.locals as any).runtime?.env ?? {};
const ADMIN_SECRET = env.ADMIN_SECRET;

if (!ADMIN_SECRET || auth !== ADMIN_SECRET) {
    return new Response(null, {
        status: 302,
        headers: { Location: "/admin" },
    });
}
---
<AdminLayout title="Admin Dashboard">
    <h1 class="admin-title">Admin Dashboard</h1>

    <nav class="admin-actions">
        <a href="/admin/upload" class="btn admin-btn">
            <span class="icon" aria-hidden="true">ğŸ“¤</span>
            <span>Upload Images</span>
        </a>

        <a href="/admin/manage" class="btn admin-btn">
            <span class="icon" aria-hidden="true">ğŸ“</span>
            <span>Manage Uploaded Files</span>
        </a>

        <a href="/admin/reviews" class="btn admin-btn">
            <span class="icon" aria-hidden="true">ğŸ“</span>
            <span>Moderate Reviews</span>
        </a>
    </nav>
</AdminLayout>npm