---
import MainLayout from "../../layout/MainLayout.astro";
import Gallery from "../../components/Gallery.astro";
import { projects } from "../../data/projects";

export async function getStaticPaths() {
    return projects.map((p) => ({ params: { slug: p.slug } }));
}

const { slug } = Astro.params;
const project = projects.find((p) => p.slug === slug);
if (!project) throw new Error(`Unknown project: ${slug}`);
---

<MainLayout title={`${project.name} | Projects`} description={`${project.name} project photos`}>
    <h1>{project.name}</h1>
    {(project.location || project.year) && <p>{[project.location, project.year].filter(Boolean).join(" Â· ")}</p>}
    <Gallery images={project.images} albumUrl={project.albumUrl} />
</MainLayout>


