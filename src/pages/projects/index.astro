---
import MainLayout from "../../layout/MainLayout.astro";
import { projects } from "../../data/projects";
const base = import.meta.env.BASE_URL;
---

<MainLayout title="Projects | KIL Construction" description="Recent project photo albums">
    <h1>Projects</h1>
    <p>Browse recent jobs and results.</p>

    <div class="grid">
        {projects.map(p => (
                <a class="card" href={`${base}projects/${p.slug}/`}>
                    {p.cover && <img src={p.cover} alt="" loading="lazy" />}
                    <div class="meta">
                        <h3>{p.name}</h3>
                        {(p.location || p.year) && <p class="small">{[p.location, p.year].filter(Boolean).join(" Â· ")}</p>}
                    </div>
                </a>
        ))}
    </div>

    <style>
        .grid { display:grid; gap:16px; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); }
        .card { border:1px solid #e6e6e6; border-radius:12px; overflow:hidden; text-decoration:none; color:inherit; background:#fff; }
        .card img { width:100%; height:180px; object-fit:cover; display:block; }
        .meta { padding:12px 14px; }
        .small { color:#667085; margin:6px 0 0; }
    </style>
</MainLayout>
